# Backup-Interrupting Restore Optimization (BIRO)

## ソフトウェアの概要
BIRO（Backup-Interrupting Restore Optimization）は，バックアップ中にリストアを行う際にリストア時間の増加を最小限に抑えるためのソフトウェアです．バックアップ中にリストアが行われる場合，リストア時間が通常よりも大幅に増加する問題があります．BIROはこの問題を解決し，ユーザエクスペリエンスを向上させることを目的としています．

## 特徴
- **リストア時間の監視**：リストア時間をリアルタイムで監視し，基準時間を超えた場合にバックアップを一時停止します．
- **バックアップの再開**：リストアが完了した後，自動的にバックアップを再開します．
- **フラストレーション軽減**： バックアップ中のリストア時間の増加によるユーザのフラストレーションを軽減します．

## ファイル構成と詳細説明
BIROは以下のファイルで構成されています：

### `restore_monitor.py`
- **概要**: リストア単体で行った時間をもとに基準値を設定し，基準値の30%増加した時間を基準時間として設定します．バックアップ中にリストア時間をリアルタイムで監視し，基準時間を超えた場合にバックアップを一時停止します．
- **詳細説明**:
  - `baseline_restore_time`: リストア単体で行った時の基準値(秒)．
  - `threshold_time`: 基準値の30%増加した時間．
  - `monitor_restore()`: リストア時間を監視し，基準時間を超えた場合にバックアップを一時停止する関数．

### `restore_run.py`
- **概要**: リストアが開始されたら実行され，リストア時間が基準時間を超えた時点でバックアップを一時停止し，リストアが完了したらバックアップを再開します．
- **詳細説明**:
  - `run_restore()`: リストア処理を実行する関数．
  - `pause_backup()`: バックアップを一時停止する関数．
  - `resume_backup()`: バックアップを再開する関数．

## 注意事項
- `restore_monitor.py`内の`baseline_restore_time`は実際の測定値に置き換えてください．
- スクリプトを実行する際には，必要な権限を持つユーザで実行してください．
- 本ソフトウェアを運用環境に導入する前に，必ずテスト環境で十分な検証を行ってください．
- バックアップを実行するプログラムは各自で用意してください．

